{"ast":null,"code":"import _slicedToArray from\"D:/React/shopsuey/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{Helmet}from'react-helmet-async';import Form from'react-bootstrap/Form';import{useNavigate}from'react-router-dom';import Button from'react-bootstrap/Button';import CheckoutSteps from'../components/CheckoutSteps';import{Store}from'../Store.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PaymentMethodScreen(){var navigate=useNavigate();var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var _state$cart=state.cart,shippingAddress=_state$cart.shippingAddress,paymentMethod=_state$cart.paymentMethod;var _useState=useState(paymentMethod||'PayPal'),_useState2=_slicedToArray(_useState,2),paymentMethodName=_useState2[0],setPaymentMethod=_useState2[1];useEffect(function(){if(!shippingAddress.address){navigate('/shipping');}console.log(paymentMethodName);},[shippingAddress,navigate,paymentMethodName]);var submitHandler=function submitHandler(e){e.preventDefault();ctxDispatch({type:'SAVE_PAYMENT_METHOD',payload:paymentMethodName});localStorage.setItem('paymentMethod',paymentMethodName);navigate('/placeorder');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CheckoutSteps,{step1:true,step2:true,step3:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"container small-container\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Payment Method\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"my-3\",children:\"Payment Method\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",id:\"PayPal\",label:\"PayPal\",value:\"PayPal\",checked:paymentMethodName===\"PayPal\",onChange:function onChange(e){return setPaymentMethod(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",id:\"Srtipe\",label:\"Stripe\",value:\"Stripe\",checked:paymentMethodName===\"Stripe\",onChange:function onChange(e){return setPaymentMethod(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Continue\"})})]})]})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","Helmet","Form","useNavigate","Button","CheckoutSteps","Store","PaymentMethodScreen","navigate","state","ctxDispatch","dispatch","cart","shippingAddress","paymentMethod","paymentMethodName","setPaymentMethod","address","console","log","submitHandler","e","preventDefault","type","payload","localStorage","setItem","target","value"],"sources":["D:/React/shopsuey/client/src/screens/PaymentMethodScreen.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport Form from 'react-bootstrap/Form'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport {Store} from '../Store.js'\r\n\r\nexport default function PaymentMethodScreen() {\r\n\r\n  const navigate = useNavigate();\r\n  const {state, dispatch: ctxDispatch}=useContext(Store);\r\n  const {\r\n    cart: {shippingAddress, paymentMethod},\r\n  } = state;\r\n  \r\n  const [paymentMethodName, setPaymentMethod] = useState(\r\n    paymentMethod || 'PayPal'\r\n  );\r\n\r\n  useEffect(()=>{\r\n    if(!shippingAddress.address) {\r\n      navigate('/shipping');\r\n    }\r\n    console.log(paymentMethodName)\r\n  },[shippingAddress, navigate, paymentMethodName])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    ctxDispatch({type: 'SAVE_PAYMENT_METHOD', payload: paymentMethodName});\r\n    localStorage.setItem('paymentMethod', paymentMethodName);\r\n    navigate('/placeorder');\r\n  }\r\n  return (\r\n    <div>\r\n        <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n        <div className=\"container small-container\">\r\n            <Helmet>\r\n                <title>Payment Method</title>\r\n            </Helmet>\r\n            <h1 className='my-3'>Payment Method</h1>\r\n            <Form onSubmit={submitHandler}>\r\n                <div className=\"mb-3\">\r\n                    <Form.Check\r\n                        type=\"radio\"\r\n                        id=\"PayPal\"\r\n                        label=\"PayPal\"\r\n                        value=\"PayPal\"\r\n                        checked={paymentMethodName === \"PayPal\"}\r\n                        onChange={(e) => setPaymentMethod(e.target.value)}/>                \r\n                </div>\r\n                <div className='mb-3' >\r\n                    <Form.Check\r\n                        type=\"radio\"\r\n                        id=\"Srtipe\"\r\n                        label=\"Stripe\"\r\n                        value=\"Stripe\"\r\n                        checked={paymentMethodName === \"Stripe\"}\r\n                        onChange={(e) => setPaymentMethod(e.target.value)}/>                \r\n                </div>\r\n                <div className='mb-3' >\r\n                  <Button type='submit'>Continue</Button>\r\n                </div>\r\n            </Form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"8GAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,MAAOC,KAAP,KAAiB,sBAAjB,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,MAAOC,cAAP,KAA0B,6BAA1B,CACA,OAAQC,KAAR,KAAoB,aAApB,C,wFAEA,cAAe,SAASC,oBAAT,EAA+B,CAE5C,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,gBAAqCL,UAAU,CAACQ,KAAD,CAA/C,CAAOG,KAAP,aAAOA,KAAP,CAAwBC,WAAxB,aAAcC,QAAd,CACA,gBAEIF,KAFJ,CACEG,IADF,CACSC,eADT,aACSA,eADT,CAC0BC,aAD1B,aAC0BA,aAD1B,CAIA,cAA8Cd,QAAQ,CACpDc,aAAa,EAAI,QADmC,CAAtD,wCAAOC,iBAAP,eAA0BC,gBAA1B,eAIAjB,SAAS,CAAC,UAAI,CACZ,GAAG,CAACc,eAAe,CAACI,OAApB,CAA6B,CAC3BT,QAAQ,CAAC,WAAD,CAAR,CACD,CACDU,OAAO,CAACC,GAAR,CAAYJ,iBAAZ,EACD,CALQ,CAKP,CAACF,eAAD,CAAkBL,QAAlB,CAA4BO,iBAA5B,CALO,CAAT,CAOA,GAAMK,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GAEAZ,WAAW,CAAC,CAACa,IAAI,CAAE,qBAAP,CAA8BC,OAAO,CAAET,iBAAvC,CAAD,CAAX,CACAU,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCX,iBAAtC,EACAP,QAAQ,CAAC,aAAD,CAAR,CACD,CAND,CAOA,mBACE,oCACI,KAAC,aAAD,EAAe,KAAK,KAApB,CAAqB,KAAK,KAA1B,CAA2B,KAAK,KAAhC,EADJ,cAEI,aAAK,SAAS,CAAC,2BAAf,wBACI,KAAC,MAAD,wBACI,yCADJ,EADJ,cAII,WAAI,SAAS,CAAC,MAAd,4BAJJ,cAKI,MAAC,IAAD,EAAM,QAAQ,CAAEY,aAAhB,wBACI,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,IAAD,CAAM,KAAN,EACI,IAAI,CAAC,OADT,CAEI,EAAE,CAAC,QAFP,CAGI,KAAK,CAAC,QAHV,CAII,KAAK,CAAC,QAJV,CAKI,OAAO,CAAEL,iBAAiB,GAAK,QALnC,CAMI,QAAQ,CAAE,kBAACM,CAAD,QAAOL,iBAAgB,CAACK,CAAC,CAACM,MAAF,CAASC,KAAV,CAAvB,EANd,EADJ,EADJ,cAUI,YAAK,SAAS,CAAC,MAAf,uBACI,KAAC,IAAD,CAAM,KAAN,EACI,IAAI,CAAC,OADT,CAEI,EAAE,CAAC,QAFP,CAGI,KAAK,CAAC,QAHV,CAII,KAAK,CAAC,QAJV,CAKI,OAAO,CAAEb,iBAAiB,GAAK,QALnC,CAMI,QAAQ,CAAE,kBAACM,CAAD,QAAOL,iBAAgB,CAACK,CAAC,CAACM,MAAF,CAASC,KAAV,CAAvB,EANd,EADJ,EAVJ,cAmBI,YAAK,SAAS,CAAC,MAAf,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,sBADF,EAnBJ,GALJ,GAFJ,GADF,CAkCD"},"metadata":{},"sourceType":"module"}